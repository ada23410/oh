{"version":3,"file":"js/661.4b3467bb.js","mappings":"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","sources":["webpack://oh/./src/views/Cart.vue","webpack://oh/./src/views/Cart.vue?27b4"],"sourcesContent":["<template>\n    <Loading :active=\"isLoading\"></Loading>\n    <div class=\"cart\">\n        <div class=\"container\">\n            <div class=\"cart-function\">\n              <h5 class=\"title\">My Cart</h5>\n              <button type=\"button\" class=\"btn btn-dark delete-all\" @click=\"removeAllCartItem\">全部刪除</button>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-12\">\n                  <div class=\"table-responsive\">\n                    <table class=\"table\">\n                        <thead>\n                            <tr>\n                                <th scope=\"col\">品名</th>\n                                <th scope=\"col\">數量</th>\n                                <th scope=\"col\">單價</th>\n                                <th scope=\"col\">功能</th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            <template v-if=\"cart.carts\">\n                              <tr v-for=\"item in cart.carts\" :key=\"item.id\">\n                                  <th scope=\"row\">\n                                    <div class=\"product-detail d-flex align-items-center\">\n                                      <div class=\"product-image me-3\">\n                                          <img :src=\"item.product.imageUrl\" alt=\"\" class=\"img-fluid rounded border-0 mb-3\">\n                                      </div>\n                                      <div>\n                                        <div class=\"product-title\">{{ item.product.title }}</div>\n                                        <div class=\"text-success\" v-if=\"item.coupon\">\n                                            已套用優惠券\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </th>\n                                  <td>\n                                      <div class=\"input-group input-group-sm\">\n                                          <input type=\"number\" class=\"form-control\" v-model.number=\"item.qty\" min=\"1\" @change=\"updateCart(item)\" :disabled=\"item.id === status.loadingItem\">\n                                          <div class=\"input-group-text\">/ {{ item.product.unit }}</div>\n                                      </div>\n                                  </td>\n                                  <td class=\"align-middle\">\n                                      <div>\n                                        <small class=\"text-success\" v-if=\"cart.final_total !== cart.total\">折扣價</small>\n                                        <div>{{ $filters.currency(item.final_total) }}</div>\n                                      </div>\n                                  </td>\n                                  <td class=\"align-middle\">\n                                      <button type=\"button\" class=\"btn btn-outline-danger\" @click=\"removeCartItem(item.id)\" :disabled=\"status.loadingItem === item.id\">\n                                          <i class=\"fas fas-spinner fa-spin\"></i>\n                                          <font-awesome-icon class=\"bars\" icon=\"fas fa-trash\"/>\n                                      </button>\n                                  </td>\n                              </tr>\n                            </template>\n                        </tbody>\n                        <tfoot>\n                          <tr>\n                              <td class=\"text-end\" colspan=\"3\">總計</td>\n                              <td class=\"text-end\">{{ $filters.currency(cart.total) }}</td>\n                          </tr>\n                          <tr v-if=\"cart.final_total !== cart.total\">\n                              <td class=\"text-end text-success\" colspan=\"3\">折扣價</td>\n                              <td class=\"text-end text-success\">{{ $filters.currency(cart.final_total) }}</td>\n                          </tr>\n                        </tfoot>\n                    </table>\n                  </div>\n                </div>\n                <div class=\"col-6\"></div>\n                <div class=\"col-6\">\n                  <div class=\"input-group mb-3 input-group-sm\">\n                      <input type=\"text\" class=\"form-control\" v-model=\"coupon_code\" placeholder=\"請輸入優惠碼\">\n                      <div class=\"input-group-append\">\n                          <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"addCouponCode\">\n                              套用優惠碼\n                          </button>\n                      </div>\n                  </div>\n                </div>\n                <div class=\"col-12\">\n                    <div class=\"form\">\n                      <h5 class=\"title\">收件人資訊</h5>\n                    </div>\n                    <Form class=\"mt-4\" v-slot=\"{ errors }\"\n                            @submit=\"createOrder\">\n                        <div class=\"mb-3\">\n                        <label for=\"email\" class=\"form-label\">Email</label>\n                        <Field id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\n                                :class=\"{ 'is-invalid': errors['email'] }\"\n                                placeholder=\"請輸入 Email\" rules=\"email|required\"\n                                v-model=\"form.user.email\"></Field>\n                        <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n                        </div>\n\n                        <div class=\"mb-3\">\n                        <label for=\"name\" class=\"form-label\">收件人姓名</label>\n                        <Field id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\"\n                                :class=\"{ 'is-invalid': errors['姓名'] }\"\n                                placeholder=\"請輸入姓名\" rules=\"required\"\n                                v-model=\"form.user.name\"></Field>\n                        <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n                        </div>\n\n                        <div class=\"mb-3\">\n                        <label for=\"tel\" class=\"form-label\">收件人電話</label>\n                        <Field id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\"\n                                :class=\"{ 'is-invalid': errors['電話'] }\"\n                                placeholder=\"請輸入電話\" rules=\"required\"\n                                v-model=\"form.user.tel\"></Field>\n                        <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n                        </div>\n\n                        <div class=\"mb-3\">\n                        <label for=\"address\" class=\"form-label\">收件人地址</label>\n                        <Field id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\"\n                                :class=\"{ 'is-invalid': errors['地址'] }\"\n                                placeholder=\"請輸入地址\" rules=\"required\"\n                                v-model=\"form.user.address\"></Field>\n                        <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n                        </div>\n\n                        <div class=\"mb-3\">\n                        <label for=\"message\" class=\"form-label\">留言</label>\n                        <textarea name=\"\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"10\"\n                                    v-model=\"form.message\"></textarea>\n                        </div>\n                        <div class=\"text-end\">\n                        <button class=\"btn btn-dark submit-btn\">送出訂單</button>\n                        </div>\n                    </Form>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      products: [],\n      product: {},\n      cart: [],\n      coupon_code: '',\n      status: {\n        loadingItem: ''\n      },\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: ''\n        },\n        message: ''\n      },\n      isLoading: false\n    }\n  },\n  inject: ['emitter'],\n  methods: {\n    getCart () {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\n      this.isLoading = true\n      this.$http.get(api).then((res) => {\n        this.isLoading = false\n        console.log('API Response', res.data)\n        if (res.data.data && res.data.data.carts) {\n          this.cart = res.data.data\n        } else {\n          this.cart = []\n        }\n      })\n    },\n    updateCart (item) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\n      this.status.loadingItem = item.id\n      const cart = {\n        product_id: item.product_id,\n        qty: item.qty\n      }\n      this.isLoading = true\n      this.$http.put(api, { data: cart }).then((res) => {\n        this.isLoading = false\n        // console.log(res.data)\n        this.status.loadingItem = ''\n        this.getCart()\n        this.emitter.emit('cart-updated')\n      })\n    },\n    removeCartItem (item) {\n      // console.log(item)\n      this.status.loadingItem = item\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item}`\n      this.isLoading = true\n      this.$http.delete(api).then((res) => {\n        this.isLoading = false\n        // console.log('API Response', res.data)\n        this.status.loadingItem = ''\n        this.getCart()\n      })\n    },\n    removeAllCartItem () {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/carts`\n      this.isLoading = true\n      this.$http.delete(api).then((res) => {\n        this.isLoading = false\n        this.getCart()\n        // console.log(res)\n      })\n    },\n    addCouponCode () {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\n      const coupon = {\n        code: this.coupon_code\n      }\n      this.isLoading = true\n      this.$http.post(api, { data: coupon }).then((res) => {\n        this.isLoading = false\n        console.log(res.data)\n        this.getCart()\n      })\n    },\n    createOrder () {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\n      const order = this.form\n      this.isLoading = true\n      this.$http.post(api, { data: order }).then((res) => {\n        this.isLoading = false\n        console.log(res)\n      })\n    }\n  },\n  created () {\n    this.emitter.on('addCart', (data) => {\n      // console.log('接收資料', data)\n      this.cart = data\n    })\n    this.getCart()\n  }\n}\n</script>\n","import { render } from \"./Cart.vue?vue&type=template&id=07b76e4d\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","scope","key","_createElementBlock","_Fragment","_createVNode","_component_Loading","active","$data","isLoading","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","type","onClick","_cache","args","$options","removeAllCartItem","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","cart","carts","_renderList","item","id","_hoisted_8","_hoisted_9","_hoisted_10","src","product","imageUrl","alt","_hoisted_11","_hoisted_12","_toDisplayString","title","coupon","_hoisted_13","_createCommentVNode","_hoisted_14","$event","qty","min","onChange","updateCart","disabled","status","loadingItem","_hoisted_15","number","_hoisted_16","unit","_hoisted_17","final_total","total","_hoisted_18","_ctx","$filters","currency","_hoisted_19","removeCartItem","_component_font_awesome_icon","icon","_hoisted_20","colspan","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","coupon_code","placeholder","_hoisted_26","addCouponCode","_hoisted_27","_component_Form","onSubmit","createOrder","default","_withCtx","errors","_hoisted_28","for","_component_Field","name","_normalizeClass","rules","modelValue","form","user","email","_component_ErrorMessage","_hoisted_29","_hoisted_30","tel","_hoisted_31","address","_hoisted_32","cols","rows","message","_","data","products","inject","methods","getCart","api","process","VUE_APP_API","VUE_APP_PATH","this","$http","get","then","res","console","log","product_id","put","emitter","emit","delete","code","post","order","created","on","__exports__","render"],"sourceRoot":""}
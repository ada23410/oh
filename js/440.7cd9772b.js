"use strict";(self["webpackChunkoh"]=self["webpackChunkoh"]||[]).push([[440],{6440:function(t,r,e){e.r(r),e.d(r,{default:function(){return A}});var l=e(6768),s=e(5130),d=e(4232);const o={class:"check-out"},n={class:"container"},a={class:"table-responsive"},u={class:"table"},c={class:"text-end"},k={class:"text-end"},L={class:"table"},i={key:0},h={key:1,class:"text-success"},p={key:0,class:"text-end"};function _(t,r,e,_,E,v){return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.Lk)("div",n,[r[10]||(r[10]=(0,l.Lk)("div",{class:"form"},[(0,l.Lk)("h5",{class:"title"},"訂單確認")],-1)),(0,l.Lk)("div",a,[(0,l.Lk)("form",{onSubmit:r[0]||(r[0]=(0,s.D$)(((...t)=>v.payOrder&&v.payOrder(...t)),["prevent"]))},[(0,l.Lk)("table",u,[r[2]||(r[2]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{scope:"col"},"品名"),(0,l.Lk)("th",{scope:"col"},"數量"),(0,l.Lk)("th",{scope:"col"},"單價")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(E.order.products,(t=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",null,(0,d.v_)(t.product.title),1),(0,l.Lk)("td",null,(0,d.v_)(t.qty)+"/"+(0,d.v_)(t.product.unit),1),(0,l.Lk)("td",c,(0,d.v_)(t.final_total),1)])))),128))]),(0,l.Lk)("tfoot",null,[(0,l.Lk)("tr",null,[r[1]||(r[1]=(0,l.Lk)("td",{colspan:"2",class:"text-end"},"總計",-1)),(0,l.Lk)("td",k,(0,d.v_)(E.order.total),1)])])]),r[9]||(r[9]=(0,l.Lk)("div",{class:"form"},[(0,l.Lk)("h5",{class:"title"},"收件人資訊")],-1)),(0,l.Lk)("table",L,[(0,l.Lk)("tbody",null,[(0,l.Lk)("tr",null,[r[3]||(r[3]=(0,l.Lk)("th",{width:"100"},"Email",-1)),(0,l.Lk)("td",null,(0,d.v_)(E.order.user.email),1)]),(0,l.Lk)("tr",null,[r[4]||(r[4]=(0,l.Lk)("th",null,"姓名",-1)),(0,l.Lk)("td",null,(0,d.v_)(E.order.user.name),1)]),(0,l.Lk)("tr",null,[r[5]||(r[5]=(0,l.Lk)("th",null,"收件人電話",-1)),(0,l.Lk)("td",null,(0,d.v_)(E.order.user.tel),1)]),(0,l.Lk)("tr",null,[r[6]||(r[6]=(0,l.Lk)("th",null,"收件人地址",-1)),(0,l.Lk)("td",null,(0,d.v_)(E.order.user.address),1)]),(0,l.Lk)("tr",null,[r[7]||(r[7]=(0,l.Lk)("th",null,"付款狀態",-1)),(0,l.Lk)("td",null,[E.order.is_paid?((0,l.uX)(),(0,l.CE)("span",h,"付款完成")):((0,l.uX)(),(0,l.CE)("span",i,"尚未付款"))])])])]),!1===E.order.is_paid?((0,l.uX)(),(0,l.CE)("div",p,r[8]||(r[8]=[(0,l.Lk)("button",{class:"btn btn-dark"},"確認付款去",-1)]))):(0,l.Q3)("",!0)],32)])])])}var E={data(){return{order:{user:{}},orderId:"",isLoading:!1}},methods:{getOrder(){const t=`${{NODE_ENV:"production",BASE_URL:"/oh/"}.VUE_APP_API}api/${{NODE_ENV:"production",BASE_URL:"/oh/"}.VUE_APP_PATH}/order/${this.orderId}`;this.$http.get(t).then((t=>{console.log(t.data),t.data.success&&(this.order=t.data.order)}))},payOrder(){const t=`${{NODE_ENV:"production",BASE_URL:"/oh/"}.VUE_APP_API}api/${{NODE_ENV:"production",BASE_URL:"/oh/"}.VUE_APP_PATH}/pay/${this.orderId}`;this.$http.post(t).then((t=>{console.log(t),t.data.success&&this.getOrder()}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},v=e(1241);const b=(0,v.A)(E,[["render",_]]);var A=b}}]);
//# sourceMappingURL=440.7cd9772b.js.map